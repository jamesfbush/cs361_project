{% extends "main.j2" %}
{% block title %}Index{% endblock %}
{% block head %}
    {{ super() }}
    <style type="text/css">
        .important { color: #336699; }
    </style>
{% endblock %}
{% block content %}
    <h1>Retrieve {{ entity }}</h1>

    {# landing page #}
    {% if data | length == 1 %}
    <p>Choose "retrieve all" or search by parameters below.</p>
    <a href="/{{ entity }}/retrieve?retrieveAll=true">Retrieve all</a>

    {% endif %}

    <p><strong>Search results:</strong></p>
    <div class="resultsContainer">
        <table>
            <thead>
                <tr>
                    {% for i in data[0] %}
                        <th> {{ i }} </th>
                    {% endfor %}
                </tr>
            </thead>
            <tbody>
                {% for i in data[1] %}
                    <tr>
                        {# https://stackoverflow.com/questions/35407008/using-getattr-in-jinja2-gives-me-an-error-jinja2-exceptions-undefinederror-ge #}
                        {% for j in data[0] %}
                            <td> {{ i[j] }} </td>
                        {% endfor %}
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

{% endblock %}